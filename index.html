<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Duty Pharmacies 📅 08.08.2025</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- No cache -->
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
  <meta http-equiv="Pragma" content="no-cache" />
  <style>
    :root{
      --md-red:#d32f2f;
      --md-text:#202124;
      --md-muted:#5f6368;
      --panel-w:320px;
    }
    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; height: 100%; font-family: Arial, Helvetica, sans-serif; color: var(--md-text);}
    #map { height: 100%; width: 100%; }

    /* Slide-In Panel links (Material Style) */
    #panel {
      position: absolute; top: 0; left: 0; height: 100%; width: var(--panel-w);
      background: #fff; box-shadow: 2px 0 8px rgba(0,0,0,.25);
      transform: translateX(-100%); transition: transform .3s ease;
      z-index: 9999; padding: 16px 16px 20px; overflow-y: auto;
    }
    #panel.active { transform: translateX(0); }
    .panel-header {
      display:flex; align-items:center; gap:10px; margin-bottom:10px;
      border-bottom:1px solid #eee; padding-bottom:10px;
    }
    .pin { font-size:20px; color:var(--md-red); }
    h2 { margin:0; font-size:18px; font-weight:700; }
    .close-btn {
      margin-left:auto; border:none; background:#f3f4f6; width:32px; height:32px; border-radius:50%;
      cursor:pointer; font-size:16px;
    }
    .row { margin:8px 0; font-size:14px; line-height:1.45; }
    .row strong { font-weight:600; }
    .muted { color:var(--md-muted); }
    .nav-link{
      display:inline-block; margin-top:6px; text-decoration:none;
      color:#fff; background:var(--md-red); padding:8px 10px; border-radius:8px; font-weight:600;
    }

    /* Mobile: Panel unten einrasten */
    @media (max-width: 768px) {
      :root { --panel-w:100vw; }
      #panel { width:100vw; height:auto; max-height: 55vh; bottom:0; top:auto; border-top-left-radius:12px; border-top-right-radius:12px; }
    }
  </style>
</head>
<body>
  <div id="map"></div>

  <!-- Slide-In Panel -->
  <aside id="panel" aria-hidden="true">
    <div class="panel-header">
      <span class="pin">📍</span>
      <h2>Selected Pharmacy</h2>
      <button class="close-btn" title="Close" onclick="closePanel()">✕</button>
    </div>

    <div class="row"><strong>📅 Date:</strong> 08.08.2025</div>
    <div class="row"><strong>🕒 Hours:</strong> <span id="p-hours" class="muted">–</span></div>
    <div class="row"><strong>🏥 Name:</strong> <span id="p-name">–</span></div>
    <div class="row"><strong>📍 Address:</strong> <span id="p-address">–</span></div>
    <div class="row"><strong>☎️ Phone:</strong> <span id="p-phone">–</span></div>
    <a id="p-nav" class="nav-link" href="#" target="_blank" rel="noopener">🧭 Navigate</a>
  </aside>

  <script>
    const markers = [{"lat":35.200344,"lng":33.3534627,"name":"SEVAL KAYMAK ECZANESİ","address":"Prof.Dr.Necmettin Erbakan Cad. N0: 41/A Elite Hastanesi önü, Domuzcular Burnu yolu Kızılbaş Lefkoşa","phone":"(0392) 227 96 19","hours":"08:00 - 00:00"},{"lat":35.2006098,"lng":33.3434889,"name":"GÜNEY ENGİNOL ECZANESİ","address":"Yzb. Tekin Yurdabak Caddesi No: 25, Aroğlu karşısı, Ortaköy, Lefkoşa","phone":"(0392) 227 66 95","hours":"08:00 - 00:00"},{"lat":35.2096817,"lng":33.3170317,"name":"DAMLA KARDÜZ ECZANESİ","address":"Atatürk Cad. Kolan British karşısı, Gönyeli, Lefkoşa","phone":"(0392) 223 45 65","hours":"08:00 - 00:00"},{"lat":35.3437758,"lng":33.1942624,"name":"MARYAM ECZANESİ","address":"Ankara Cad. No: 1, Lotus Park Sitesi A Blok, Alsancak, Girne","phone":"(0533) 842 36 37","hours":"08:00 - 00:00"},{"lat":35.323434,"lng":33.3439833,"name":"ARDA ÇELİK ECZANESİ","address":"Bellapais Yolu Zafer Cad. Bedel Plaza N0:4-5 Girne","phone":"(0533) 886 60 85","hours":"08:00 - 00:00"},{"lat":35.3367234,"lng":33.3103745,"name":"MELİS UZUN ECZANESİ","address":"Işıl Sokak, Uzun Apt. No: 4, Kamiloğlu Hastanesi yanı, Girne","phone":"(0533) 862 11 72","hours":"08:00 - 00:00"},{"lat":35.1348362,"lng":33.9237462,"name":"HANDE BESMEL ECZANESİ","address":"Gülseren Yolu Cahit Sıtkı Tarancı Sokak Şafak Plaza No:10 Karakol Bölgesi Mağusa","phone":"(0392) 365 34 50","hours":"08:00 - 00:00"},{"lat":35.2359893,"lng":33.75177230000001,"name":"HALİL HAMZALAR ECZANESİ","address":"Halil Hamza Yolu Ece Apt. Dükkan3 Zizzi Pizza &amp; Dünya Oto Galeri arası / Kaliland Bölgesi Gazimağusa","phone":"(0392) 365 55 94","hours":"08:00 - 00:00"},{"lat":35.1940623,"lng":32.9944615,"name":"GİLANLI ECZANESİ","address":"Ecevit Cad. No: 120B, Güzelyurt","phone":"(0392) 714 47 90","hours":"08:00 - 00:00"},{"lat":35.1416122,"lng":32.8364074,"name":"İLKSEN ECZANESİ","address":"Belediye Dükkanları N0:18 Gemikonağı Lefke","phone":"(0392) 727 82 40","hours":"08:00 - 22:00"},{"lat":35.2836381,"lng":33.8931056,"name":"İSKELE ECZANESİ","address":"Şht. İlker Karter Cad. Cevizli, 11 nolu sokak No: 3/A, İskele","phone":"(0539) 117 12 35","hours":"08:00 - 22:00"},{"lat":35.4237773,"lng":34.0704301,"name":"MELEK İBRAHİM ECZANESİ","address":"Öztürk Cad. No: 10, Mehmetçik, İskele","phone":"(0392) 375 53 66","hours":"08:00 - 20:00"},{"lat":35.53569,"lng":34.189259,"name":"SAKİNER ECZANESİ","address":"Yeni Erenköy, Karpaz, Gazimağusa","phone":"(0392) 374 43 56","hours":"08:00 - 20:00"},{"lat":35.2019434,"lng":33.36390069999999,"name":"PERVİN ECZANESİ","address":"Haydar Aliyev Cad. Berber Tarlası Dük. No: 12/C, Hz. Ebubekir Cami Çaprazı, Türk Hava Yolları karşısı, Küçük Kaymaklı, Lefkoşa","phone":"(0392) 225 28 18","hours":"08:00 - 00:00"},{"lat":35.1938138,"lng":33.3466521,"name":"ÖZNEM KILINÇKINI ECZANESİ","address":"Mehmet Akif Cad.Grand Pasha Hotel karşısı Dereboyu Lefkoşa","phone":"(0392) 227 11 10","hours":"08:00 - 00:00"},{"lat":35.200863,"lng":33.32458,"name":"DENİZ ÇORBA ECZANESİ","address":"Belediye Bulvarı 91/B, Miraje Restorant çaprazı, KIB-ET yanı, ŞAŞA karşısı Yenikent, Lefkoşa","phone":"(0392) 223 72 72","hours":"08:00 - 00:00"},{"lat":35.3419562,"lng":33.278432,"name":"KANDİL ECZANESİ","address":"Karaoğlanoğlu Cad. E 48 Chichen Planet karşısı GAÜ Işıkları yanı Karaoğlanoğlu","phone":"(0392) 822 38 42","hours":"08:00 - 00:00"},{"lat":35.3270585,"lng":33.3854342,"name":"TÖRENSEL ECZANESİ","address":"Beşparmaklar Cad.Mah Ayhan Plaza Dükkan No:3 Çatalköy","phone":"(0392) 824 57 13","hours":"08:00 - 00:00"},{"lat":35.3329558,"lng":33.3137472,"name":"ZİYA SENCER ECZANESİ","address":"Mete Adanır Cad. No: 2, Magic Tower Apt. Sulu Çember karşısı, Girne","phone":"(0533) 826 51 91","hours":"08:00 - 00:00"},{"lat":35.1155201,"lng":33.9296161,"name":"ARAS ÖNCÜ ECZANESİ","address":"15 Ağustos Bulvarı No: 46, İlama Market karşısı, Çanakkale, Gazimağusa","phone":"(0392) 366 29 99","hours":"08:00 - 00:00"},{"lat":35.1287186,"lng":33.9281283,"name":"MEHMETALİ BEYAZ ECZANESİ","address":"Eşref Bitlis Cad., Topcu Bulvarı, Beyzade Apt., No: 3, Garanti Bankası Karşısı Polis Müdürlüğü önü Gazimağusa","phone":"(0392) 365 06 50","hours":"08:00 - 00:00"}];

    let map, activeMarker;

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        zoom: 9,
        center: { lat: 35.25, lng: 33.4 },
        mapTypeId: google.maps.MapTypeId.SATELLITE,
        gestureHandling: "greedy"
      });

      // Optional: eigenes Icon (Google-rot)
      const icon = {
        url: "https://maps.gstatic.com/mapfiles/api-3/images/spotlight-poi2_hdpi.png",
        scaledSize: new google.maps.Size(27, 43)
      };

      markers.forEach((data) => {
        const marker = new google.maps.Marker({
          position: { lat: data.lat, lng: data.lng },
          map,
          title: data.name,
          icon
        });

        marker.addListener("click", () => {
          activeMarker = marker;
          openPanel(data);
          // Karte ein bisschen auf den Marker zentrieren
          map.panTo(marker.getPosition());
          if (map.getZoom() < 12) map.setZoom(12);
        });
      });
      // Kein InfoWindow – nur Panel
    }

    function openPanel(d){
      document.getElementById("p-hours").textContent   = d.hours || "–";
      document.getElementById("p-name").textContent    = d.name;
      document.getElementById("p-address").textContent = d.address;
      document.getElementById("p-phone").textContent   = d.phone;
      document.getElementById("p-nav").href            = 'https://www.google.com/maps?q=' + d.lat + ',' + d.lng;
      const panel = document.getElementById("panel");
      panel.classList.add("active");
      panel.setAttribute("aria-hidden","false");
    }

    function closePanel(){
      const panel = document.getElementById("panel");
      panel.classList.remove("active");
      panel.setAttribute("aria-hidden","true");
    }
  </script>

  <!-- config + Maps mit Cache-Breaker -->
  <script src="config.js?v=1754676400596"></script>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=${CONFIG.apiKey}&callback=initMap&cb=1754676400596"></script>
</body>
</html>